{
  "name": "mdmagic",
  "displayName": "mdMagic",
  "description": "VS Code Markdown Extension - A powerful WYSIWYG editor and viewer for markdown files",
  "version": "0.0.1",
  "repository": {
    "type": "git",
    "url": "https://github.com/dandgo/mdMagic.git"
  },
  "engines": {
    "vscode": "^1.74.0"
  },
  "categories": [
    "Other"
  ],
  "activationEvents": [
    "onLanguage:markdown"
  ],
  "main": "./out/extension.js",
  "contributes": {
    "commands": [
      {
        "command": "mdMagic.openEditor",
        "title": "Open in Editor Mode",
        "category": "mdMagic"
      },
      {
        "command": "mdMagic.openViewer",
        "title": "Open in Viewer Mode",
        "category": "mdMagic"
      },
      {
        "command": "mdMagic.toggleMode",
        "title": "Toggle Mode",
        "category": "mdMagic"
      },
      {
        "command": "mdMagic.switchToEditor",
        "title": "Switch to Editor Mode",
        "category": "mdMagic"
      },
      {
        "command": "mdMagic.switchToViewer",
        "title": "Switch to Viewer Mode",
        "category": "mdMagic"
      },
      {
        "command": "mdMagic.formatBold",
        "title": "Format Bold",
        "category": "mdMagic"
      },
      {
        "command": "mdMagic.formatItalic",
        "title": "Format Italic",
        "category": "mdMagic"
      },
      {
        "command": "mdMagic.insertLink",
        "title": "Insert Link",
        "category": "mdMagic"
      },
      {
        "command": "mdMagic.showDocumentStats",
        "title": "Show Document Statistics",
        "category": "mdMagic"
      }
    ],
    "keybindings": [
      {
        "command": "mdMagic.toggleMode",
        "key": "ctrl+shift+m",
        "mac": "cmd+shift+m",
        "when": "resourceExtname == .md"
      },
      {
        "command": "mdMagic.switchToEditor",
        "key": "ctrl+shift+e",
        "mac": "cmd+shift+e",
        "when": "resourceExtname == .md"
      },
      {
        "command": "mdMagic.switchToViewer",
        "key": "ctrl+shift+v",
        "mac": "cmd+shift+v",
        "when": "resourceExtname == .md"
      },
      {
        "command": "mdMagic.formatBold",
        "key": "ctrl+b",
        "mac": "cmd+b",
        "when": "resourceExtname == .md && editorTextFocus"
      },
      {
        "command": "mdMagic.formatItalic",
        "key": "ctrl+i",
        "mac": "cmd+i",
        "when": "resourceExtname == .md && editorTextFocus"
      },
      {
        "command": "mdMagic.insertLink",
        "key": "ctrl+k",
        "mac": "cmd+k",
        "when": "resourceExtname == .md && editorTextFocus"
      }
    ],
    "menus": {
      "explorer/context": [
        {
          "command": "mdMagic.switchToEditor",
          "when": "resourceExtname == .md",
          "group": "mdMagic@1"
        },
        {
          "command": "mdMagic.switchToViewer",
          "when": "resourceExtname == .md",
          "group": "mdMagic@2"
        }
      ],
      "editor/context": [
        {
          "command": "mdMagic.toggleMode",
          "when": "resourceExtname == .md",
          "group": "mdMagic@1"
        },
        {
          "command": "mdMagic.formatBold",
          "when": "resourceExtname == .md && editorHasSelection",
          "group": "mdMagic@2"
        },
        {
          "command": "mdMagic.formatItalic",
          "when": "resourceExtname == .md && editorHasSelection",
          "group": "mdMagic@3"
        },
        {
          "command": "mdMagic.insertLink",
          "when": "resourceExtname == .md",
          "group": "mdMagic@4"
        }
      ]
    },
    "configuration": {
      "title": "mdMagic",
      "properties": {
        "mdMagic.defaultMode": {
          "order": 10,
          "type": "string",
          "enum": [
            "editor",
            "viewer"
          ],
          "enumDescriptions": [
            "Start with WYSIWYG editor mode for easy content creation",
            "Start with preview viewer mode for reading and reviewing content"
          ],
          "default": "viewer",
          "markdownDescription": "**Default mode when opening markdown files.** Choose whether to open markdown files in editor mode for editing or viewer mode for reading. You can always switch modes using `Ctrl+Shift+M` (or `Cmd+Shift+M` on Mac).",
          "scope": "window",
          "category": "Behavior"
        },
        "mdMagic.autoSave": {
          "order": 20,
          "type": "boolean",
          "default": true,
          "markdownDescription": "**Automatically save changes to markdown files.** When enabled, changes are saved automatically as you type. When disabled, you need to manually save using `Ctrl+S` (or `Cmd+S` on Mac).",
          "scope": "window",
          "category": "Behavior"
        },
        "mdMagic.previewTheme": {
          "order": 30,
          "type": "string",
          "enum": [
            "default",
            "github",
            "minimal",
            "academic",
            "dark",
            "high-contrast"
          ],
          "enumDescriptions": [
            "Clean, balanced theme suitable for most content",
            "GitHub-style markdown rendering with familiar styling",
            "Minimal, distraction-free theme for focused reading",
            "Academic paper style with serif fonts and formal layout",
            "Dark theme for low-light environments",
            "High contrast theme for accessibility"
          ],
          "default": "default",
          "markdownDescription": "**Theme for markdown preview and viewer mode.** Choose from various built-in themes or use 'custom' to load your own CSS. The theme affects colors, fonts, and overall appearance of rendered markdown.",
          "scope": "window",
          "category": "Appearance"
        },
        "mdMagic.enableMath": {
          "order": 40,
          "type": "boolean",
          "default": true,
          "markdownDescription": "**Enable mathematical equation rendering.** When enabled, LaTeX-style math expressions (e.g., `$E=mc^2$` or `$$\\sum_{i=1}^n x_i$$`) will be rendered as formatted equations using KaTeX. Disable to improve performance if you don't use math in your markdown.",
          "scope": "window",
          "category": "Features"
        },
        "mdMagic.showToolbar": {
          "order": 50,
          "type": "boolean",
          "default": true,
          "markdownDescription": "**Show the formatting toolbar in editor mode.** The toolbar provides quick access to common formatting options like bold, italic, headers, lists, and links. You can hide it for a cleaner interface if you prefer using keyboard shortcuts.",
          "scope": "window",
          "category": "Interface"
        },
        "mdMagic.enableDiagrams": {
          "order": 60,
          "type": "boolean",
          "default": true,
          "markdownDescription": "**Enable diagram rendering with Mermaid.** When enabled, code blocks with `mermaid` language will be rendered as interactive diagrams. Supports flowcharts, sequence diagrams, class diagrams, and more.",
          "scope": "window",
          "category": "Features"
        },
        "mdMagic.wordWrap": {
          "order": 70,
          "type": "string",
          "enum": [
            "off",
            "on",
            "wordWrapColumn",
            "bounded"
          ],
          "enumDescriptions": [
            "Lines will never wrap",
            "Lines will wrap at the viewport width",
            "Lines will wrap at the word wrap column",
            "Lines will wrap at the minimum of viewport width and word wrap column"
          ],
          "default": "on",
          "markdownDescription": "**Word wrapping behavior in editor mode.** Controls how long lines are handled in the editor.",
          "scope": "window",
          "category": "Editor"
        },
        "mdMagic.fontSize": {
          "order": 80,
          "type": "number",
          "minimum": 8,
          "maximum": 32,
          "default": 14,
          "markdownDescription": "**Font size for the editor and preview.** Set the font size in pixels. Valid range is 8-32 pixels.",
          "scope": "window",
          "category": "Appearance"
        },
        "mdMagic.lineHeight": {
          "order": 90,
          "type": "number",
          "minimum": 1.0,
          "maximum": 3.0,
          "default": 1.5,
          "markdownDescription": "**Line height multiplier for better readability.** Controls the spacing between lines. A value of 1.5 means 1.5 times the font size.",
          "scope": "window",
          "category": "Appearance"
        },
        "mdMagic.keyboardShortcuts": {
          "order": 100,
          "type": "object",
          "default": {
            "toggleMode": "Ctrl+Shift+M",
            "save": "Ctrl+S",
            "export": "Ctrl+Shift+E",
            "togglePreview": "Ctrl+Shift+V"
          },
          "properties": {
            "toggleMode": {
              "type": "string",
              "pattern": "^(Ctrl|Cmd|Alt|Shift)\\+(Ctrl|Cmd|Alt|Shift\\+)*[A-Z0-9]$",
              "description": "Keyboard shortcut to toggle between editor and viewer modes",
              "default": "Ctrl+Shift+M"
            },
            "save": {
              "type": "string",
              "pattern": "^(Ctrl|Cmd|Alt|Shift)\\+(Ctrl|Cmd|Alt|Shift\\+)*[A-Z0-9]$",
              "description": "Keyboard shortcut to save the current document",
              "default": "Ctrl+S"
            },
            "export": {
              "type": "string",
              "pattern": "^(Ctrl|Cmd|Alt|Shift)\\+(Ctrl|Cmd|Alt|Shift\\+)*[A-Z0-9]$",
              "description": "Keyboard shortcut to export the document",
              "default": "Ctrl+Shift+E"
            },
            "togglePreview": {
              "type": "string",
              "pattern": "^(Ctrl|Cmd|Alt|Shift)\\+(Ctrl|Cmd|Alt|Shift\\+)*[A-Z0-9]$",
              "description": "Keyboard shortcut to toggle preview mode",
              "default": "Ctrl+Shift+V"
            }
          },
          "additionalProperties": false,
          "markdownDescription": "**Custom keyboard shortcuts for mdMagic commands.** Define your own shortcuts using the format `Ctrl+Key`, `Cmd+Key`, `Alt+Key`, or combinations like `Ctrl+Shift+Key`. Use `Cmd` instead of `Ctrl` on macOS.",
          "scope": "window",
          "category": "Shortcuts"
        }
      }
    }
  },
  "scripts": {
    "vscode:prepublish": "npm run package",
    "compile": "webpack",
    "watch": "webpack --watch",
    "package": "webpack --mode production --devtool hidden-source-map",
    "compile-tests": "tsc -p tsconfig.test.json --outDir out",
    "watch-tests": "tsc -p tsconfig.test.json -w --outDir out",
    "pretest": "npm run compile && npm run lint",
    "lint": "eslint src",
    "test": "jest",
    "test:vscode": "vscode-test",
    "test:jest": "jest",
    "format": "prettier --write src/**/*.ts",
    "format:check": "prettier --check src/**/*.ts"
  },
  "devDependencies": {
    "@types/jest": "^29.5.0",
    "@types/marked": "^5.0.2",
    "@types/mocha": "^10.0.10",
    "@types/node": "22.x",
    "@types/vscode": "^1.74.0",
    "@typescript-eslint/eslint-plugin": "^8.39.0",
    "@typescript-eslint/parser": "^8.39.0",
    "@vscode/test-cli": "^0.0.11",
    "@vscode/test-electron": "^2.5.2",
    "eslint": "^9.32.0",
    "jest": "^29.5.0",
    "prettier": "^3.0.0",
    "ts-jest": "^29.1.0",
    "ts-loader": "^9.5.2",
    "typescript": "^5.9.2",
    "webpack": "^5.101.0",
    "webpack-cli": "^6.0.1"
  },
  "dependencies": {
    "highlight.js": "^11.11.1",
    "marked": "^16.2.0",
    "monaco-editor": "^0.52.2"
  }
}
